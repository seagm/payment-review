<!DOCTYPE html>
<html>
  <head>
    <title>Payment Review</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" type="text/css" href="./style/style.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="./style/component.v22.min.css" />
    <link rel="stylesheet" type="text/css" href="./style/payment-review.css" />
  </head>

  <body>
    <main class="container">
      <img class="logo" src="./images/seagm-logo.svg" />
      <div class="status-card">
        <div class="text">
          <h1 class="title">Payment Verify</h1>
          <p class="description caption">
            Your order is under review. You will be required to either perform a
            payment verification or supply us with more information for us to
            investigate and clear the transaction
          </p>
        </div>
        <img class="illustration" src="./images/brand.png" />
      </div>

      <form class="upload-form">
        <div class="step-card">
          <h2 class="step-title"><span class="step-index">1</span>Selfie</h2>
          <p class="description">
            Your order is under review. You will be required to either perform a
            payment verification or supply us with more information for us to
            investigate and clear the transaction
          </p>
          <div class="upload-step">
            <img
              id="step-1-img"
              class="placeholder-img"
              src="./images/sample.png" />
            <div>
              <h3 class="require-title">Requirements</h3>
              <ol>
                <li class="require-list">
                  Clear selfie with holding a passport/ID card;
                </li>
                <li class="require-list">
                  Written note of
                  <span class="date-tag" id="verify-date"></span>
                </li>
              </ol>
              <label class="btw select-image" onchange="setImage()">
                <input
                  type="file"
                  accept="image/png, image/jpeg, image/jpg"
                  id="step-1" />
                Select Picture
              </label>
              <p id="step-1-oversize" class="disabled oversize">
                The image is too large. The maximum size is 5MB.
              </p>
            </div>
          </div>
        </div>

        <div class="step-card">
          <h2 class="step-title">
            <span class="step-index">2</span>Payment Proof
          </h2>
          <p class="description">
            Your order is under review. You will be required to either perform a
            payment verification or supply us with more information for us to
            investigate and clear the transaction
          </p>
          <div class="upload-step">
            <img
              id="step-2-img"
              class="placeholder-img"
              src="./images/image.svg" />
            <div>
              <h3 class="require-title">Requirements</h3>
              <ol>
                <li class="require-list">
                  Clear selfie with holding a passport/ID card;
                </li>
                <li class="require-list">Written note of</li>
              </ol>

              <label class="btw select-image" onchange="setImage()">
                <input
                  type="file"
                  accept="image/png, image/jpeg, image/jpg"
                  id="step-2" />
                Select Picture
              </label>
              <p id="step-2-oversize" class="disabled oversize">
                The image is too large. The maximum size is 5MB.
              </p>
            </div>
          </div>
        </div>
        <input class="btn-submit" type="submit" value="Upload" />
      </form>
    </main>
    <script>
      // 拼接当天日期字符串
      const date = new Date();
      const generateDate = `${date.getFullYear()}-${
        date.getMonth() + 1
      }-${date.getDate()}`;
      const verifyDate = document.getElementById("verify-date");
      verifyDate.innerHTML = generateDate.toString();

      // 将选择的图片存在uploadFileList里
      const uploadFileObj = {};
      function setImage() {
        const file = event.target.files[0];
        const oversizeID = `${event.target.id}-oversize`;
        const warning = document.getElementById(oversizeID);
        if (file.size < 5000000) {
          const imgID = `${event.target.id}-img`;
          const URL = window.URL;
          const imgURL = URL.createObjectURL(file);
          const replace = document.getElementById(imgID);
          replace.src = imgURL;
          uploadFileObj[event.target.id] = file;
          warning.classList.add("disabled");
        } else {
          warning.classList.remove("disabled");
        }
        console.log(uploadFileObj);
        return uploadFileObj;
      }
    </script>
  </body>
</html>
